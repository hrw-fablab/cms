{% load wagtailcore_tags i18n wagtailimages_tags component_tags %}
{% wagtail_site as current_site %}
<a class="skip" href="#main">Skip to content</a>
<header class="content navigation" id="navigation">
    <a class="logo" href="{{ current_site.root_url }}/{{ LANGUAGE_CODE }}">
        {% if settings.global.GlobalSettings.logo %}
            {% image settings.global.GlobalSettings.logo original as logo_image %}
            <img class="{% if settings.global.GlobalSettings.logo_title %} full{% endif %}"
                src="{{ logo_image.url }}"
                alt="Logo"
                loading="eager"
                decoding="sync">
        {% endif %}
        {{ settings.global.GlobalSettings.logo_title|default:'' }}
    </a>
    <button id="menu-button" class="button">Menu</button>
    <nav class="menu" id="menu">
        <ul>
            {% for element in menuitems %}
                <li>
                    {% if element.content_type.model == "folderpage" or element.content_type.model == "qufolderpage" %}
                        <details>
                            <summary>
                                {{ element.localized }}
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>
                            </summary>
                            <ul class="submenu">
                                {% for subelement in element.get_children.specific %}
                                    <li>
                                        <a href="{{ subelement.localized.url }}">{{ subelement.localized }}</a>
                                    </li>
                                {% endfor %}
                            </ul>
                        </details>
                    {% else %}
                        <a href="{{ element.localized.url }}">{{ element.localized }}</a>
                    {% endif %}
                </li>
            {% endfor %}
        </ul>
    </nav>
    {% if settings.global.GlobalSettings.search %}
        {% component "search" %}
    {% endif %}
</header>
