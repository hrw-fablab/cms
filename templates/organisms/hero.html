{% load wagtailimages_tags static %}

<section class="hero" data-margin-block-end="medium">
    {% if value.title or value.text %}
        <div data-style="glass">
            {% if value.title %}<h1>{{ value.title }}</h1>{% endif %}
            {% if value.text %}<p>{{ value.text }}</p>{% endif %}
        </div>
    {% endif %}
    {% if value.video %}
        <video id="hero-video" muted loop>
            <source src="{{value.video.url}}" type="video/mp4">
        </video>
        <button id="control">
            <svg id="play" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
            <svg style="display: none;" id="pause" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect></svg>
        </button>
        <script src="{% static 'js/video.js' %}"></script>
    {% elif value.image %}
        <figure>
            <picture>
                {% image value.image fill-1920x700 format-webp webpquality-80 as image_1920 %}
                {% image value.image fill-1440x700 format-webp webpquality-60 as image_1440 %}
                {% image value.image fill-1024x700 format-webp webpquality-60 as image_1024 %}
                {% image value.image fill-768x576 format-webp webpquality-60 as image_768 %}
                {% image value.image fill-260x200 format-webp webpquality-60 as image_480 %}
                <source srcset=" {{ image_480.url }} 480w, {{ image_768.url }} 768w, {{ image_1024.url }} 1024w, {{ image_1440.url }} 1440w, {{ image_1920.url }} 1920w"
                    sizes=" (min-width: 1800px) 1920px, (min-width: 1440px) 1440px, (min-width: 1024px) 1024px, (min-width: 768px) 768px, (min-width: 480px) 480px"
                    type="image/webp">
                {% image value.image fill-1920x700 format-jpeg as image_1920 %}
                {% image value.image fill-1440x700 format-jpeg as image_1440 %}
                {% image value.image fill-1024x700 format-jpeg as image_1024 %}
                {% image value.image fill-768x576 format-jpeg as image_768 %}
                {% image value.image fill-260x200 format-jpeg as image_480 %}
                <source srcset=" {{ image_480.url }} 480w, {{ image_768.url }} 768w, {{ image_1024.url }} 1024w, {{ image_1440.url }} 1440w, {{ image_1920.url }} 1920w"
                    sizes=" (min-width: 1800px) 1920px, (min-width: 1440px) 1440px, (min-width: 1024px) 1024px, (min-width: 768px) 768px, (min-width: 480px) 480px"
                    type="image/jpg">
                <img src="{{ image_480.url }}"
                    alt="{{ image_480.alt }}"
                    decoding="sync"
                    loading="eager"
                    rel="preload">
            </picture>
            <figcaption>
                {{ value.image.credit }}
            </figcaption>
        </figure>
    {% endif %}
</section>
