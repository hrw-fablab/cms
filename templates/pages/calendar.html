{% extends "base.html" %}
{% load wagtailcore_tags wagtailroutablepage_tags  %}
{% block content %}
    <main class="fl-main" id="main">
        {{ title }}
        <h1>{{ year }}</h1>
        <h1>{{ month }}</h1>
        {% if month == 1 %}
            <a href="{% routablepageurl page "routePastSpecific" year|add:-1 12 %}">Backward</a>
        {% else %}
            <a href="{% routablepageurl page "routePastSpecific" year month|add:-1 %}">Backward</a>
        {% endif %}
        {% if month == 12 %}
            <a href="{% routablepageurl page "routePastSpecific" year|add:1 1 %}">Forward</a>
        {% else %}
            <a href="{% routablepageurl page "routePastSpecific" year month|add:1 %}">Forward</a>
        {% endif %}
        <div class="fl-calendar">
            <header>
                <ul>
                    <li>Montag</li>
                    <li>Dienstag</li>
                    <li>Mittwoch</li>
                    <li>Donnerstag</li>
                    <li>Freitag</li>
                    <li>Samstag</li>
                    <li>Sonntag</li>
                </ul>
            </header>
            <ul>
                {% for day in days %}
                    <li>
                        {% for event in events %}
                            {% if event.end.day >= day|add:1 and day|add:1 >= event.start.day  %}
                                <p>
                                    {{ event.title }}
                                </p>
                            {% endif %}
                        {% endfor %}
                        {{ forloop.counter }}
                    </li>
                {% endfor %}
            </ul>
        </div>
    </main>
{% endblock content %}
