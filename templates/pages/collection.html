{% load static wagtailcore_tags wagtailuserbar wagtailimages_tags i18n%}
{% wagtail_site as current_site%}
{% get_current_language as LANGUAGE_CODE %}
<!DOCTYPE html>
<html class="no-js" lang="{{LANGUAGE_CODE}}">

<head>
	{% if page.index == "noindex"%}
	<meta name="robots" content="noindex" />
	{% endif %}
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>
		{% block title %}
		{% if page.seo_title %}{{ page.seo_title }}{% else %}{{ page.title }}{% endif %}
		{% endblock %}
	</title>
	<meta name="description" content="{{page.search_description}}" />

	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body,
		html {
			height: 100%;
		}

		body {
			font-family: sans-serif;
			width: min(90vw, 40rem);
			margin-inline: auto;
			text-align: center;
			overflow: hidden;
		}

		header {
			padding-block: 2rem;
		}

		footer {
			padding-block: 2rem;
			position: sticky;
			top: 100vh;
		}

		ul {
			list-style: none;
			display: flex;
			flex-wrap: wrap;
			justify-content: space-around;
			align-items: center;
			gap: 1.5rem;
		}

		svg {
			width: 2.5rem;
			height: 2.5rem;
		}

		a {
			color: inherit;
			text-decoration-thickness: .1em;
		}

		.fl-collection {
			flex-direction: column;
		}

		.fl-collection li {
			border: solid .15em;
			width: 100%;
		}

		.fl-collection li:hover {
			background-color: lightgray;
		}

		.fl-collection a {
			text-decoration: none;
			display: inline-block;
			padding: 0.7rem;
			width: 100%;
			height: 100%;
		}
	</style>
	<meta property="og:title"
		content="{% if page.seo_title %}{{ page.seo_title }}{% else %}{{ page.title }}{% endif %}">
	<meta property="og:description" content="{{page.search_description}}">

	{% image page.og_image original as og_image %}
	<meta property="og:image" content="{{og_image.full_url}}">
	<meta property="og:image:alt" content="{{page.og_image_alt}}">
	<meta property="og:locale" content="de">
	<meta property="og:type" content="{{page.og_type}}">
	<meta property="og:url" content="{{page.full_url}}">
	<meta name="twitter:card" content="{{page.tw_size}}">
	<link rel="icon" href="/favicon.svg" type="image/svg+xml">
	<link rel="canonical" href="{{page.full_url}}">
</head>

<body>
	<header>
		<a href="{{ current_site.root_url }}/{{LANGUAGE_CODE}}">
			<h1>HRW-Fablab</h1>
		</a>
	</header>
	<main>
		<ul class="fl-collection">
			{% for element in page.collection_links.all%}
			{% if element.expire %}
			{% if element.is_visible == False %}
			<li>
				<a href="{{element.url}}" target="_blank">{{element.title}}</a>
			</li>
			{% endif %}
			{% else %}
			<li>
				<a href="{{element.url}}" target="_blank">{{element.title}}</a>
			</li>
			{% endif %}
			{% endfor %}
			{% for element in page.collection_pages.all %}
			{% for page in element.grabber.get_children|slice:element.amount %}
			<li>
				<a href="{{page.url}}" target="_blank">{{page.title}}</a>
			</li>
			{% endfor%}
			{% endfor %}
		</ul>
	</main>
	<footer>
		<ul class="fl-social">
			<li>
				<a href="https://www.instagram.com/fablab_hrwbottrop/">
					<svg viewBox="0 0 24 24">
						<path
							d="M12 2h5c3 0 5 2 5 5a83 83 0 0 1 0 10c0 3-2 5-5 5a83 83 0 0 1-10 0c-3 0-5-2-5-5A83 83 0 0 1 2 7c0-3 2-5 5-5h5zm0-2H7C3 0 0 3 0 7a84 84 0 0 0 0 10c0 4 3 7 7 7a86 86 0 0 0 10 0c4 0 7-3 7-7a84 84 0 0 0 0-10c0-4-3-7-7-7h-5zm0 6a6 6 0 1 0 0 12 6 6 0 0 0 0-12zm0 10a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm6-12a1 1 0 1 0 0 3 1 1 0 0 0 0-3z" />
					</svg>
				</a>
			</li>
			<li>
				<a href="https://www.facebook.com/FabLabBottrop/">
					<svg viewBox="0 0 24 24">
						<path
							d="M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm3 8h-1.4c-.5 0-.6.2-.6.8V10h2l-.2 2H13v7h-3v-7H8v-2h2V7.7C10 5.9 11 5 13 5h2v3z" />
					</svg>
				</a>
			</li>
			<li>
				<a href="https://twitter.com/HrwFablab">
					<svg viewBox="0 0 24 24">
						<path
							d="M24 4.6c-.9.3-1.8.6-2.8.7a5 5 0 0 0 2.1-2.7c-1 .6-2 1-3 1.2a5 5 0 0 0-8.5 4.5A14 14 0 0 1 1.7 3a5 5 0 0 0 1.5 6.6c-.8 0-1.6-.2-2.2-.6A5 5 0 0 0 5 14a5 5 0 0 1-2.3 0 5 5 0 0 0 4.6 3.5 9.9 9.9 0 0 1-7.3 2A14 14 0 0 0 21.5 7.1 10 10 0 0 0 24 4.6z" />
					</svg>
				</a>
			</li>
		</ul>
	</footer>
</body>

</html>